/*
 * 
 *      .org $8000
 *  reset:
 *      ldx #$ff
 *      txs
 *      ldy #$ee
 *      lda #$aa
 *      clv
 *      clc
 *      pha
 *      phx
 *      phy
 *      php
 *      plp
 *      ply
 *      plx
 *      pla
 *      nop
 * 
 *      .org $a000
 *  irq:
 *  nmi:
 *      rti
 * 
 *      .org $fffa
 *      .word nmi
 *      .word reset
 *      .word irq
 *  
*/
ProgramFragment stack_prog[] = {
   {0x8000, 16, {0xa2, 0xff, 0x9a, 0xa0, 0xee, 0xa9, 0xaa, 0xb8, 0x18, 0x48, 0xda, 0x5a, 0x08, 0x28, 0x7a, 0xfa}},
   {0x8010, 2, {0x68, 0xea}},
   {0xa000, 1, {0x40}},
   {0xfffb, 5, {0xa0, 0x00, 0x80, 0x00, 0xa0}},
   {0, 0, {0}}
};
PinState stack_pin[] = {
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8000, 0xa2},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8001, 0xff},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8002, 0x9a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8003, 0xa0},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8003, 0xa0},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8004, 0xee},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8005, 0xa9},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8006, 0xaa},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8007, 0xb8},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8008, 0x18},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8008, 0x18},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8009, 0x48},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8009, 0x48},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800a, 0xda},
   {1, 1, 1, 1, 1, 0, 1, 1, 0, 0x01ff, 0xaa},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800a, 0xda},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800b, 0x5a},
   {1, 1, 1, 1, 1, 0, 1, 1, 0, 0x01fe, 0xff},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800b, 0x5a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800c, 0x08},
   {1, 1, 1, 1, 1, 0, 1, 1, 0, 0x01fd, 0xee},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800c, 0x08},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800d, 0x28},
   {1, 1, 1, 1, 1, 0, 1, 1, 0, 0x01fc, 0xb4},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800d, 0x28},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800e, 0x7a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01fb, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01fc, 0xb4},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800e, 0x7a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800f, 0xfa},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01fc, 0xb4},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01fd, 0xee},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800f, 0xfa},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8010, 0x68},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01fd, 0xee},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01fe, 0xff},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8010, 0x68},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8011, 0xea},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01fe, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x01ff, 0xaa},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8011, 0xea},
};
const size_t stack_cycles = sizeof(stack_pin)/sizeof(stack_pin[0]);
