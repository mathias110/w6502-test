/*
 * 
 *     .org $a
 *     .byte $ff
 * 
 *     .org $7ff0
 * bbs_1:
 *     bbs1 $a, bbs_2
 * bbs_3:
 *     bbs3 $a, bbs_4
 * bbs_5:
 *     bbs5 $a, bbs_6
 * 
 *     .org $8000
 * reset:
 *     bbs0 $a, bbs_1
 * bbs_2:
 *     bbs2 $a, bbs_3
 * bbs_4:
 *     bbs4 $a, bbs_5
 * bbs_6:
 *     bbs6 $a, bbs_7
 *     nop
 * bbs_7:
 *     bbs7 $a, bbs_a
 *     nop
 * bbs_a:
 *     stz $a
 *     jmp reset
 * 
 *     .org $a000
 * irq:
 * nmi:
 *     rti
 * 
 *     .org $fffa
 *     .word nmi
 *     .word reset
 *     .word irq
 * 
*/
ProgramFragment bbs_prog[] = {
   {0x000a, 1, {0xff}},
   {0x7ff0, 9, {0x9f, 0x0a, 0x10, 0xbf, 0x0a, 0x10, 0xdf, 0x0a, 0x10}},
   {0x8000, 10, {0x8f, 0x0a, 0xed, 0xaf, 0x0a, 0xed, 0xcf, 0x0a, 0xed, 0xef}},
   {0x800a, 12, {0x0a, 0x01, 0xea, 0xff, 0x0a, 0x01, 0xea, 0x64, 0x0a, 0x4c, 0x00, 0x80}},
   {0xa000, 1, {0x40}},
   {0xfffb, 5, {0xa0, 0x00, 0x80, 0x00, 0xa0}},
   {0, 0, {0}}
};
PinState bbs_pin[] = {
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8000, 0x8f},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8001, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8002, 0xed},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8003, 0xaf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8003, 0xaf},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x7ff0, 0x9f},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff1, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff2, 0x10},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff3, 0xbf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff3, 0xbf},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8003, 0xaf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8004, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8005, 0xed},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8006, 0xcf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8006, 0xcf},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x7ff3, 0xbf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff4, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff5, 0x10},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff6, 0xdf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff6, 0xdf},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8006, 0xcf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8007, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8008, 0xed},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8009, 0xef},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8009, 0xef},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x7ff6, 0xdf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff7, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff8, 0x10},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff9, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x7ff9, 0x00},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8009, 0xef},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800a, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800b, 0x01},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800c, 0xea},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800d, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800e, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800f, 0x01},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8010, 0xea},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8011, 0x64},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8012, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 0, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8013, 0x4c},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8014, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8015, 0x80},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8000, 0x8f},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8001, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8002, 0xed},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8003, 0xaf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8004, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8005, 0xed},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8006, 0xcf},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8007, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8008, 0xed},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8009, 0xef},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800a, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800b, 0x01},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800c, 0xea},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800d, 0xff},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x800d, 0xff},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800e, 0x0a},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x000a, 0x00},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x800f, 0x01},
   {1, 1, 1, 1, 1, 1, 1, 1, 1, 0x8010, 0xea},
   {1, 1, 1, 1, 1, 0, 1, 1, 1, 0x8011, 0x64},
};
const size_t bbs_cycles = sizeof(bbs_pin)/sizeof(bbs_pin[0]);
